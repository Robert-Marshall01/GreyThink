# =============================================================================
# Docker Compose for calculator_asm
# Interactive CLI Application
# Version: 0.2.0
# =============================================================================

services:
  calculator:
    build:
      context: .
      dockerfile: Dockerfile
    image: calculator-asm:0.2.0
    container_name: calculator-asm
    # Interactive mode required for CLI input/output
    stdin_open: true
    tty: true
    # Security settings
    read_only: true
    security_opt:
      - no-new-privileges:true
    # Resource limits (minimal for assembly binary)
    deploy:
      resources:
        limits:
          cpus: '0.25'
          memory: 32M
        reservations:
          cpus: '0.1'
          memory: 8M
    # Restart policy
    restart: "no"
    # Labels
    labels:
      app: calculator-asm
      version: "0.2.0"
      environment: production
